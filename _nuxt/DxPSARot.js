import{a as X}from"./B6qCbaoP.js";import{i as Y}from"./D-2-6Lyj.js";import{V as D}from"./B29pliZ2.js";import{e as w,a as G,b as J,f as K}from"./D2nGpDRe.js";function S(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Q(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function j(n){let t,i,e;n.length!==2?(t=S,i=(o,a)=>S(n(o),a),e=(o,a)=>n(o)-a):(t=n===S||n===Q?n:U,i=n,e=n);function l(o,a,r=0,m=o.length){if(r<m){if(t(a,a)!==0)return m;do{const h=r+m>>>1;i(o[h],a)<0?r=h+1:m=h}while(r<m)}return r}function f(o,a,r=0,m=o.length){if(r<m){if(t(a,a)!==0)return m;do{const h=r+m>>>1;i(o[h],a)<=0?r=h+1:m=h}while(r<m)}return r}function u(o,a,r=0,m=o.length){const h=l(o,a,r,m-1);return h>r&&e(o[h-1],a)>-e(o[h],a)?h-1:h}return{left:l,center:u,right:f}}function U(){return 0}function W(n){return n===null?NaN:+n}const Z=j(S),nn=Z.right;j(W).center;const tn=Math.sqrt(50),rn=Math.sqrt(10),en=Math.sqrt(2);function R(n,t,i){const e=(t-n)/Math.max(0,i),l=Math.floor(Math.log10(e)),f=e/Math.pow(10,l),u=f>=tn?10:f>=rn?5:f>=en?2:1;let o,a,r;return l<0?(r=Math.pow(10,-l)/u,o=Math.round(n*r),a=Math.round(t*r),o/r<n&&++o,a/r>t&&--a,r=-r):(r=Math.pow(10,l)*u,o=Math.round(n/r),a=Math.round(t/r),o*r<n&&++o,a*r>t&&--a),a<o&&.5<=i&&i<2?R(n,t,i*2):[o,a,r]}function an(n,t,i){if(t=+t,n=+n,i=+i,!(i>0))return[];if(n===t)return[n];const e=t<n,[l,f,u]=e?R(t,n,i):R(n,t,i);if(!(f>=l))return[];const o=f-l+1,a=new Array(o);if(e)if(u<0)for(let r=0;r<o;++r)a[r]=(f-r)/-u;else for(let r=0;r<o;++r)a[r]=(f-r)*u;else if(u<0)for(let r=0;r<o;++r)a[r]=(l+r)/-u;else for(let r=0;r<o;++r)a[r]=(l+r)*u;return a}function _(n,t,i){return t=+t,n=+n,i=+i,R(n,t,i)[2]}function un(n,t,i){t=+t,n=+n,i=+i;const e=t<n,l=e?_(t,n,i):_(n,t,i);return(e?-1:1)*(l<0?1/-l:l)}function on(n,t){return n=+n,t=+t,function(i){return Math.round(n*(1-i)+t*i)}}function cn(n){return function(){return n}}function ln(n){return+n}var E=[0,1];function M(n){return n}function $(n,t){return(t-=n=+n)?function(i){return(i-n)/t}:cn(isNaN(t)?NaN:.5)}function fn(n,t){var i;return n>t&&(i=n,n=t,t=i),function(e){return Math.max(n,Math.min(t,e))}}function sn(n,t,i){var e=n[0],l=n[1],f=t[0],u=t[1];return l<e?(e=$(l,e),f=i(u,f)):(e=$(e,l),f=i(f,u)),function(o){return f(e(o))}}function mn(n,t,i){var e=Math.min(n.length,t.length)-1,l=new Array(e),f=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)l[u]=$(n[u],n[u+1]),f[u]=i(t[u],t[u+1]);return function(o){var a=nn(n,o,1,e)-1;return f[a](l[a](o))}}function hn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function gn(){var n=E,t=E,i=Y,e,l,f,u=M,o,a,r;function m(){var c=Math.min(n.length,t.length);return u!==M&&(u=fn(n[0],n[c-1])),o=c>2?mn:sn,a=r=null,h}function h(c){return c==null||isNaN(c=+c)?f:(a||(a=o(n.map(e),t,i)))(e(u(c)))}return h.invert=function(c){return u(l((r||(r=o(t,n.map(e),X)))(c)))},h.domain=function(c){return arguments.length?(n=Array.from(c,ln),m()):n.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),m()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),i=on,m()},h.clamp=function(c){return arguments.length?(u=c?!0:M,m()):u!==M},h.interpolate=function(c){return arguments.length?(i=c,m()):i},h.unknown=function(c){return arguments.length?(f=c,h):f},function(c,s){return e=c,l=s,m()}}function dn(){return gn()(M,M)}function pn(n){return Math.max(0,-w(Math.abs(n)))}function Mn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(w(t)/3)))*3-w(Math.abs(n)))}function kn(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,w(t)-w(n))+1}function vn(n,t,i,e){var l=un(n,t,i),f;switch(e=G(e??",f"),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(f=Mn(l,u))&&(e.precision=f),J(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(f=kn(l,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=f-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(f=pn(l))&&(e.precision=f-(e.type==="%")*2);break}}return K(e)}function yn(n){var t=n.domain;return n.ticks=function(i){var e=t();return an(e[0],e[e.length-1],i??10)},n.tickFormat=function(i,e){var l=t();return vn(l[0],l[l.length-1],i??10,e)},n.nice=function(i){i==null&&(i=10);var e=t(),l=0,f=e.length-1,u=e[l],o=e[f],a,r,m=10;for(o<u&&(r=u,u=o,o=r,r=l,l=f,f=r);m-- >0;){if(r=_(u,o,i),r===a)return e[l]=u,e[f]=o,t(e);if(r>0)u=Math.floor(u/r)*r,o=Math.ceil(o/r)*r;else if(r<0)u=Math.ceil(u*r)/r,o=Math.floor(o*r)/r;else break;a=r}return n},n}function Nn(){var n=dn();return n.copy=function(){return hn(n,Nn())},D.apply(n,arguments),yn(n)}function wn(n){return n}var V=1,I=2,q=3,N=4,O=1e-6;function An(n){return"translate("+n+",0)"}function xn(n){return"translate(0,"+n+")"}function bn(n){return t=>+n(t)}function Fn(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),i=>+n(i)+t}function zn(){return!this.__axis}function C(n,t){var i=[],e=null,l=null,f=6,u=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,r=n===V||n===N?-1:1,m=n===N||n===I?"x":"y",h=n===V||n===q?An:xn;function c(s){var L=e??(t.ticks?t.ticks.apply(t,i):t.domain()),T=l??(t.tickFormat?t.tickFormat.apply(t,i):wn),B=Math.max(f,0)+o,P=t.range(),A=+P[0]+a,x=+P[P.length-1]+a,b=(t.bandwidth?Fn:bn)(t.copy(),a),k=s.selection?s.selection():s,p=k.selectAll(".domain").data([null]),g=k.selectAll(".tick").data(L,t).order(),H=g.exit(),F=g.enter().append("g").attr("class","tick"),v=g.select("line"),y=g.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),g=g.merge(F),v=v.merge(F.append("line").attr("stroke","currentColor").attr(m+"2",r*f)),y=y.merge(F.append("text").attr("fill","currentColor").attr(m,r*B).attr("dy",n===V?"0em":n===q?"0.71em":"0.32em")),s!==k&&(p=p.transition(s),g=g.transition(s),v=v.transition(s),y=y.transition(s),H=H.transition(s).attr("opacity",O).attr("transform",function(d){return isFinite(d=b(d))?h(d+a):this.getAttribute("transform")}),F.attr("opacity",O).attr("transform",function(d){var z=this.parentNode.__axis;return h((z&&isFinite(z=z(d))?z:b(d))+a)})),H.remove(),p.attr("d",n===N||n===I?u?"M"+r*u+","+A+"H"+a+"V"+x+"H"+r*u:"M"+a+","+A+"V"+x:u?"M"+A+","+r*u+"V"+a+"H"+x+"V"+r*u:"M"+A+","+a+"H"+x),g.attr("opacity",1).attr("transform",function(d){return h(b(d)+a)}),v.attr(m+"2",r*f),y.attr(m,r*B).text(T),k.filter(zn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===I?"start":n===N?"end":"middle"),k.each(function(){this.__axis=b})}return c.scale=function(s){return arguments.length?(t=s,c):t},c.ticks=function(){return i=Array.from(arguments),c},c.tickArguments=function(s){return arguments.length?(i=s==null?[]:Array.from(s),c):i.slice()},c.tickValues=function(s){return arguments.length?(e=s==null?null:Array.from(s),c):e&&e.slice()},c.tickFormat=function(s){return arguments.length?(l=s,c):l},c.tickSize=function(s){return arguments.length?(f=u=+s,c):f},c.tickSizeInner=function(s){return arguments.length?(f=+s,c):f},c.tickSizeOuter=function(s){return arguments.length?(u=+s,c):u},c.tickPadding=function(s){return arguments.length?(o=+s,c):o},c.offset=function(s){return arguments.length?(a=+s,c):a},c}function Hn(n){return C(V,n)}function In(n){return C(q,n)}function _n(n){return C(N,n)}export{Nn as a,Hn as b,dn as c,j as d,hn as e,In as f,_n as g,yn as l,ln as n,un as t};
