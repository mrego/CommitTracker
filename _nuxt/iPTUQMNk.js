import{_ as y}from"./CYeIyjzW.js";import{_ as g}from"./BCSySVuw.js";import{_ as D}from"./CDkg2K4h.js";import"./B6qCbaoP.js";import{f as x,k as b,l as q,y as M,h as N,q as V,p as B,o as R,c as S,b as i,a as s,s as f,v as T}from"./B29pliZ2.js";import{_ as j}from"./DlAUqK2U.js";import"./DxPSARot.js";import"./D-2-6Lyj.js";import"./D2nGpDRe.js";import"./Bl_BFuLA.js";const I={class:"section"},O={class:"container"},k={class:"timeline"},C={class:"container"},U=x({__name:"lifecycle",setup(A){const l=b(),v=q(),u=M([]),t=N([new Date("2015-01-01"),new Date]);l.query.start&&(t.value[0]=new Date(l.query.start)),l.query.end&&(t.value[1]=new Date(l.query.end));const h=()=>{v.push({query:{start:t.value[0].toISOString().split("T")[0],end:t.value[1].toISOString().split("T")[0]}})};let d={};V(async()=>{d=await(await fetch("/cve/data.json")).json(),_()});const _=()=>{const r=Object.values(d).map(e=>{const n=new Date(e.bug_date),o=new Date(e.version_dates.stable);return{date:new Date(e.published),value:(o-n)/864e5}}).filter(e=>!isNaN(e.value)),a=new Array(10);for(let e=0;e<a.length;++e)a[e]=[];console.log(r);for(const e of r){const n=(e.date-t.value[0])/(t.value[1]-t.value[0]);let o=Math.floor(n*a.length);o=Math.max(0,o),a[o].push(e.value)}for(let e=0;e<a.length;++e)a[e]=a[e].sort((n,o)=>n-o);const c=[20,40,50,60,80].map(e=>({label:e+"%",values:a.map((n,o)=>{const w=Math.round(e/100*n.length),p=new Date(t.value[0].getTime()+o*(t.value[1]-t.value[0])/a.length);return n.length===0?{x:p,y:0}:{x:p,y:n[w]}})}));u.value=c};return B(t,()=>{h(),_()}),(r,a)=>{const m=y,c=g,e=D;return R(),S("div",null,[i(m),a[1]||(a[1]=s("section",{class:"section"},[s("div",{class:"container"},[s("h1",{class:"title"}," Bug lifecycle ")])],-1)),s("section",I,[s("div",O,[i(c,{data:f(u),formatter:n=>Math.round(n)+" days"},null,8,["data","formatter"])])]),s("section",k,[s("div",C,[i(e,{modelValue:f(t),"onUpdate:modelValue":a[0]||(a[0]=n=>T(t)?t.value=n:null),minDate:new Date("2015-01-01")},null,8,["modelValue","minDate"])])])])}}}),Q=j(U,[["__scopeId","data-v-3f8bb638"]]);export{Q as default};
